<ActivityDefinition xmlns="http://hl7.org/fhir">
    <meta>
        <profile value="http://dsf.dev/fhir/StructureDefinition/activity-definition" />
        <tag>
            <system value="http://dsf.dev/fhir/CodeSystem/read-access-tag" />
            <code value="ALL" />
        </tag>
    </meta>
    <extension url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization">
        <extension url="message-name">
            <valueString value="startVotingProcess" />
        </extension>
        <extension url="task-profile">
            <valueCanonical value="http://example.org/fhir/StructureDefinition/task-start-voting-process|#{version}" />
        </extension>
        <extension url="requester">
            <valueCoding>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization" />
                <code value="LOCAL_ALL" />
            </valueCoding>
        </extension>
        <extension url="requester">
            <valueCoding>
                <extension url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-practitioner">
                    <valueCoding>
                        <system value="http://dsf.dev/fhir/CodeSystem/practitioner-role"/>
                        <code value="DSF_ADMIN"/>
                    </valueCoding>
                </extension>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization" />
                <code value="LOCAL_ALL_PRACTITIONER" />
            </valueCoding>
        </extension>
        <extension url="recipient">
            <valueCoding>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization" />
                <code value="LOCAL_ALL" />
            </valueCoding>
        </extension>
    </extension>
    <extension url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization">
        <extension url="message-name">
            <valueString value="returnVote" />
        </extension>
        <extension url="task-profile">
            <valueCanonical value="http://example.org/fhir/StructureDefinition/task-return-vote|#{version}" />
        </extension>
        <extension url="requester">
            <valueCoding>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization" />
                <code value="REMOTE_ALL" />
            </valueCoding>
        </extension>
        <extension url="requester">
            <valueCoding>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization" />
                <code value="LOCAL_ALL" />
            </valueCoding>
        </extension>
        <extension url="requester">
            <valueCoding>
                <extension url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-practitioner">
                    <valueCoding>
                        <system value="http://dsf.dev/fhir/CodeSystem/practitioner-role" />
                        <code value="DSF_ADMIN" />
                    </valueCoding>
                </extension>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization" />
                <code value="LOCAL_ALL_PRACTITIONER" />
            </valueCoding>
        </extension>
        <extension url="recipient">
            <valueCoding>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization" />
                <code value="LOCAL_ALL" />
            </valueCoding>
        </extension>
    </extension>
    <url value="http://example.org/bpe/Process/votingProcess" />
    <!-- version managed by bpe -->
    <version value="#{version}" />
    <name value="VotingProcess" />
    <title value="Voting Process" />
    <subtitle value="A simple voting process" />
    <!-- status managed by bpe -->
    <status value="unknown" />
    <experimental value="false" />
    <!-- date managed by bpe -->
    <date value="#{date}" />
    <publisher value="DSF" />
    <contact>
        <name value="DSF" />
        <telecom>
            <system value="email" />
            <value value="pmo@dsf.dev" />
        </telecom>
    </contact>
    <description value="This implementation contains a basic voting mechanism." />
    <kind value="Task" />
</ActivityDefinition>